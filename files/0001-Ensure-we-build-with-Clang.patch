From 6ca01d87b7985457daa41a65ebbd9999b96cb44b Mon Sep 17 00:00:00 2001
From: Ikey Doherty <ikey@solus-project.com>
Date: Wed, 22 Jul 2015 19:43:42 +0100
Subject: [PATCH] Ensure we build with Clang

Signed-off-by: Ikey Doherty <ikey@solus-project.com>
---
 backend/comics/comics-document.c           | 7 +++++--
 cut-n-paste/synctex/synctex_parser_utils.c | 3 +++
 2 files changed, 8 insertions(+), 2 deletions(-)

diff --git a/backend/comics/comics-document.c b/backend/comics/comics-document.c
index 4997ee8..09c62ab 100644
--- a/backend/comics/comics-document.c
+++ b/backend/comics/comics-document.c
@@ -248,7 +248,10 @@ comics_generate_command_lines (ComicsDocument *comics_document,
 	gchar *quoted_file, *quoted_file_aux;
 	gchar *quoted_command;
 	ComicBookDecompressType type;
-	
+
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-nonliteral"
+
 	type = comics_document->command_usage;
 	comics_document->regex_arg = command_usage_def[type].regex_arg;
 	quoted_command = g_shell_quote (comics_document->selected_command);
@@ -294,7 +297,7 @@ comics_generate_command_lines (ComicsDocument *comics_document,
 		g_free (quoted_command);
 		return TRUE;
 	}
-
+#pragma GCC diagnostic pop
 }
 
 /* This function chooses an external command for decompressing a comic 
diff --git a/cut-n-paste/synctex/synctex_parser_utils.c b/cut-n-paste/synctex/synctex_parser_utils.c
index f8a9f6f..1518022 100644
--- a/cut-n-paste/synctex/synctex_parser_utils.c
+++ b/cut-n-paste/synctex/synctex_parser_utils.c
@@ -103,7 +103,10 @@ int _synctex_error(const char * reason,...) {
 	}
 #   else
 	result = fprintf(stderr,"SyncTeX ERROR: ");
+#pragma GCC diagnostic push
+#pragma GCC diagnostic ignored "-Wformat-nonliteral"
 	result += vfprintf(stderr, reason, arg);
+#pragma GCC diagnostic pop
 	result += fprintf(stderr,"\n");
 #   endif
 	va_end (arg);
-- 
2.4.6

